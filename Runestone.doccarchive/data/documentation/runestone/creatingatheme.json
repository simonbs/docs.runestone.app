{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme"},{"type":"text","text":" protocol can be used to customize the appearance of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/TextView"},{"type":"text","text":". Runestone does not include any themes by default. However, you can find examples of themes "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/simonbs\/Runestone\/tree\/main\/Example\/Example\/Themes"},{"type":"text","text":" that is included in Runestone’s repository on GitHub."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Take a look at the documentation of the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme"},{"type":"text","text":" protocol to get an overview of what aspects of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/TextView"},{"type":"text","text":" can be customized."}]},{"anchor":"Syntax-Highlighting-Text","level":2,"type":"heading","text":"Syntax Highlighting Text"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The theme determines the text styling and colors to use when syntax highlighting text. Implement the following methods on "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme"},{"type":"text","text":" to specify the text styling and color of syntax highlighted text."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme\/font(for:)-6u3z2"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme\/fontTraits(for:)-38bfk"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme\/textColor(for:)"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The functions should return a font, font traits, and a color for a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"highlight name"}]},{"type":"text","text":" which corresponds to a name specified in a Tree-sitter highlights query. For more information on Tree-sitter highlight queries, please refer to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/AddingATreeSitterLanguage"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Highlight names are strings defined by the highlights query in the parser, and as such, there is no fixed set of highlight names used by Runestone. Consult the highlights query of the language you are using. This query is typically in a file named highlights.scm."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Examples of highlight names include "},{"type":"codeVoice","code":"keyword"},{"type":"text","text":", "},{"type":"codeVoice","code":"comment"},{"type":"text","text":", "},{"type":"codeVoice","code":"string"},{"type":"text","text":" and "},{"type":"codeVoice","code":"function"},{"type":"text","text":". Highlight names can share common subsequences. Examples:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"variable and "},{"type":"text","text":"variable.parameter`."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"function"},{"type":"text","text":", "},{"type":"codeVoice","code":"function.builtin"},{"type":"text","text":" and "},{"type":"codeVoice","code":"function.method"},{"type":"text","text":"."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Styling should be determined based on the longest matching highlight name. So for example "},{"type":"codeVoice","code":"function.builtin"},{"type":"text","text":" should be preferred over "},{"type":"codeVoice","code":"function"},{"type":"text","text":" but if "},{"type":"codeVoice","code":"function.builtin"},{"type":"text","text":" is not defined by your theme, it should fall back to "},{"type":"codeVoice","code":"function"},{"type":"text","text":". The Swift code below contains an example of how we this logic can be implemented."}]},{"type":"codeListing","syntax":"swift","code":["func findLongestMatch(highlightName: String) -> String? {","    \/\/ Split the highlight name on dots so \"function.builtin.static\" becomes [\"function\", \"builtin\", \"static\"]","    var components = highlightName.components(separatedBy: \".\")","    \/\/ Loop through components to find the longest match.","    while !components.isEmpty {","        \/\/ Join all components with a dot so [\"function\", \"builtin\", \"static\"] becomes \"function.builtin.static\"","        let candidate = components.joined(separator: \".\")","        if supportedHighlightNames.contains(candidate) {","            \/\/ The candidate highlight name is supported.","            return candidate","        } else {","            \/\/ Remove the last component so our next candidate will be one component shorter in the next iteration of the loop.","            components.removeLast()","        }","    }","    \/\/ No match found for the highlight name.","    return nil","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The list below contains highlight names that are commonly used across a suite of languages. They might serve as a starting point for your theme."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"attribute"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"constant"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"constant.builtin"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"constructor"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"comment"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"delimiter"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"escape"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"field"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"function"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"function.builtin"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"function.method"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"keyword"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"number"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"operator"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"property"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"punctuation.bracket"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"punctuation.delimiter"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"punctuation.special"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"string"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"string.special"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"tag"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"type"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"type.builtin"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"variable"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"variable.builtin"}]}]}]}]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/runestone\/creatingatheme"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Runestone\/documentation\/Runestone\/CreatingATheme","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Learn how to create a theme and customize the appearance of TextView."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Creating a Theme","role":"article","modules":[{"name":"Runestone"}]},"hierarchy":{"paths":[["doc:\/\/Runestone\/documentation\/Runestone"]]},"seeAlsoSections":[{"title":"Appearance","identifiers":["doc:\/\/Runestone\/documentation\/Runestone\/Theme"],"generated":true}],"references":{"doc://Runestone/documentation/Runestone/AddingATreeSitterLanguage":{"role":"article","title":"Adding a Tree-sitter Language","abstract":[{"type":"text","text":"Learn how to add one of Tree-sitter’s many supported language and start syntax highlighting text."}],"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/AddingATreeSitterLanguage","kind":"article","type":"topic","url":"\/documentation\/runestone\/addingatreesitterlanguage"},"doc://Runestone/documentation/Runestone/Theme/textColor(for:)":{"role":"symbol","title":"textColor(for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"textColor"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"UIColor","preciseIdentifier":"c:objc(cs)UIColor"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Color of text matching the capture sequence."}],"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme\/textColor(for:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/runestone\/theme\/textcolor(for:)"},"doc://Runestone/documentation/Runestone/Theme":{"role":"symbol","title":"Theme","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Theme"}],"abstract":[{"type":"text","text":"Fonts and colors to be used by a "},{"type":"codeVoice","code":"TextView"},{"type":"text","text":"."}],"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Theme"}],"url":"\/documentation\/runestone\/theme"},"doc://Runestone/documentation/Runestone/Theme/fontTraits(for:)-38bfk":{"role":"symbol","title":"fontTraits(for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fontTraits"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"FontTraits","preciseIdentifier":"s:9Runestone10FontTraitsV"}],"abstract":[{"type":"text","text":"Traits of text matching the capture sequence."}],"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme\/fontTraits(for:)-38bfk","kind":"symbol","type":"topic","url":"\/documentation\/runestone\/theme\/fonttraits(for:)-38bfk"},"doc://Runestone/documentation/Runestone/Theme/font(for:)-6u3z2":{"defaultImplementations":1,"role":"symbol","title":"font(for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"font"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"UIFont","preciseIdentifier":"c:objc(cs)UIFont"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Font of text matching the capture sequence."}],"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/Theme\/font(for:)-6u3z2","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/runestone\/theme\/font(for:)-6u3z2"},"https://github.com/simonbs/Runestone/tree/main/Example/Example/Themes":{"title":"in the example project","titleInlineContent":[{"type":"text","text":"in the example project"}],"type":"link","identifier":"https:\/\/github.com\/simonbs\/Runestone\/tree\/main\/Example\/Example\/Themes","url":"https:\/\/github.com\/simonbs\/Runestone\/tree\/main\/Example\/Example\/Themes"},"doc://Runestone/documentation/Runestone/TextView":{"role":"symbol","title":"TextView","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TextView"}],"abstract":[{"type":"text","text":"A type similiar to UITextView with features commonly found in code editors."}],"identifier":"doc:\/\/Runestone\/documentation\/Runestone\/TextView","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TextView"}],"url":"\/documentation\/runestone\/textview"},"doc://Runestone/documentation/Runestone":{"role":"collection","title":"Runestone","abstract":[{"type":"text","text":"Performant code editor with syntax highlighting, line numbers, invisible characters and much more."}],"identifier":"doc:\/\/Runestone\/documentation\/Runestone","kind":"symbol","type":"topic","url":"\/documentation\/runestone"}}}